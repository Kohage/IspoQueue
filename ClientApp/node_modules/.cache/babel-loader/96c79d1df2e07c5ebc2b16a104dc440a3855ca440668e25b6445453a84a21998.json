{"ast":null,"code":"var _jsxFileName = \"G:\\\\Diplom\\\\IspoQueue\\\\ClientApp\\\\src\\\\components\\\\Operator\\\\index.tsx\",\n  _s = $RefreshSig$();\nimport React, { useEffect, useState } from 'react';\nimport { Container } from 'reactstrap';\nimport Button from '../Button/index.tsx';\nimport NextImage from '../../public/Next.svg';\nimport styles from '../Display/display.module.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction Operator() {\n  _s();\n  const [isTimerActive, setIsTimerActive] = useState(false);\n  const [remainingTime, setRemainingTime] = useState(10); // Время в секундах (2 минуты)\n  let data = [{\n    \"key\": \"П100\",\n    \"serivce\": \"Заполнение заявления в личном кабинете\",\n    \"status\": \"Завершен\"\n  }, {\n    \"key\": \"K200\",\n    \"serivce\": \"Заполнение заявления в личном кабинете\",\n    \"status\": \"Активен\"\n  }, {\n    \"key\": \"П200\",\n    \"serivce\": \"Заполнение заявления в личном кабинете\",\n    \"status\": \"В ожидании\"\n  }];\n  const queue = data.length > 0 ? data.map(d => {\n    return /*#__PURE__*/_jsxDEV(\"tr\", {\n      children: [/*#__PURE__*/_jsxDEV(\"td\", {\n        children: d.key\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 19,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: d.cabinet\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 20,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n        children: d.window\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 21,\n        columnNumber: 13\n      }, this)]\n    }, d.key, true, {\n      fileName: _jsxFileName,\n      lineNumber: 18,\n      columnNumber: 16\n    }, this);\n  }) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false);\n  const textNext = () => {\n    return /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: \"\\u0421\\u043B\\u0435\\u0434\\u0443\\u044E\\u0448\\u0438\\u0439\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"img\", {\n        src: NextImage,\n        width: 40\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 13\n      }, this), \"\\u0411\"]\n    }, void 0, true);\n  };\n\n  // Функция для запуска таймера\n  const startTimer = () => {\n    setIsTimerActive(true);\n    setRemainingTime(10); // Сброс времени на начальное значение\n  };\n\n  useEffect(() => {\n    let timerInterval;\n\n    // Если таймер активен и осталось время\n    if (isTimerActive && remainingTime > 0) {\n      // Уменьшаем время каждую секунду\n      timerInterval = setTimeout(() => {\n        setRemainingTime(prevTime => prevTime - 1);\n      }, 1000);\n    } else {\n      // Если время вышло или таймер неактивен, очищаем интервал\n      clearInterval(timerInterval);\n      setIsTimerActive(false);\n    }\n\n    // Очищаем интервал при размонтировании компонента\n    return () => clearInterval(timerInterval);\n  }, [isTimerActive, remainingTime]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"\\u0412\\u044B \\u043E\\u043F\\u0440\\u0435\\u0430\\u0442\\u043E\\u0440 \\u043A\\u043E\\u0442\\u043E\\u0440\\u044B\\u0439 \\u0440\\u0430\\u0431\\u043E\\u0442\\u0430\\u0435\\u0442 \\u0441 \\u043E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044E:\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      children: /*#__PURE__*/_jsxDEV(\"li\", {\n        children: \"\\u043E\\u0447\\u0435\\u0440\\u0435\\u0434\\u044C 1\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Container, {\n      className: \"w-50 m-0 p-0\",\n      children: [/*#__PURE__*/_jsxDEV(Button, {\n        onClick: !isTimerActive ? startTimer : undefined,\n        next: true,\n        children: [isTimerActive ? `Осталось времени: ${remainingTime} сек.` : `Следуюший`, !isTimerActive && /*#__PURE__*/_jsxDEV(\"img\", {\n          src: NextImage,\n          width: 35,\n          className: \"mx-2\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 40\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"table\", {\n        className: styles.table,\n        children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n          children: /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: [/*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u2116 \\u0442\\u0430\\u043B\\u043E\\u043D\\u0430\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041A\\u0430\\u0431\\u0438\\u043D\\u0435\\u0442\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 72,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n              children: \"\\u041E\\u043A\\u043D\\u043E\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 29\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: queue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 9\n  }, this);\n}\n_s(Operator, \"415/ABUJJPXJdy0ULLjHEyL1pS0=\");\n_c = Operator;\nexport default Operator;\nvar _c;\n$RefreshReg$(_c, \"Operator\");","map":{"version":3,"names":["React","useEffect","useState","Container","Button","NextImage","styles","jsxDEV","_jsxDEV","Fragment","_Fragment","Operator","_s","isTimerActive","setIsTimerActive","remainingTime","setRemainingTime","data","queue","length","map","d","children","key","fileName","_jsxFileName","lineNumber","columnNumber","cabinet","window","textNext","src","width","startTimer","timerInterval","setTimeout","prevTime","clearInterval","className","onClick","undefined","next","table","_c","$RefreshReg$"],"sources":["G:/Diplom/IspoQueue/ClientApp/src/components/Operator/index.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react'\r\nimport { Container } from 'reactstrap'\r\nimport Button from '../Button/index.tsx'\r\nimport NextImage from '../../public/Next.svg'\r\nimport styles from '../Display/display.module.css'\r\n\r\nfunction Operator() {\r\n    const [isTimerActive, setIsTimerActive] = useState(false);\r\n    const [remainingTime, setRemainingTime] = useState(10); // Время в секундах (2 минуты)\r\n    let data: { key: string, serivce: string, status: string }[] = [\r\n        { \"key\": \"П100\", \"serivce\": \"Заполнение заявления в личном кабинете\", \"status\": \"Завершен\" },\r\n        { \"key\": \"K200\", \"serivce\": \"Заполнение заявления в личном кабинете\", \"status\": \"Активен\" },\r\n        { \"key\": \"П200\", \"serivce\": \"Заполнение заявления в личном кабинете\", \"status\": \"В ожидании\" }\r\n    ];\r\n\r\n\r\n    const queue = data.length > 0 ? data.map((d) => {\r\n        return <tr key={d.key}>\r\n            <td>{d.key}</td>\r\n            <td>{d.cabinet}</td>\r\n            <td>{d.window}</td>\r\n        </tr>\r\n    }) : <></>\r\n\r\n    const textNext = () => {\r\n        return <>\r\n            <p>Следуюший</p>\r\n            <img src={NextImage} width={40}></img>Б\r\n        </>\r\n    }\r\n\r\n    // Функция для запуска таймера\r\n    const startTimer = () => {\r\n        setIsTimerActive(true);\r\n        setRemainingTime(10); // Сброс времени на начальное значение\r\n    };\r\n\r\n    useEffect(() => {\r\n        let timerInterval;\r\n\r\n        // Если таймер активен и осталось время\r\n        if (isTimerActive && remainingTime > 0) {\r\n            // Уменьшаем время каждую секунду\r\n            timerInterval = setTimeout(() => {\r\n                setRemainingTime((prevTime) => prevTime - 1);\r\n            }, 1000);\r\n        } else {\r\n            // Если время вышло или таймер неактивен, очищаем интервал\r\n            clearInterval(timerInterval);\r\n            setIsTimerActive(false);\r\n        }\r\n\r\n        // Очищаем интервал при размонтировании компонента\r\n        return () => clearInterval(timerInterval);\r\n    }, [isTimerActive, remainingTime]);\r\n\r\n    return (\r\n        <Container>\r\n            <h1>Вы опреатор который работает с очередю:</h1>\r\n            <ul>\r\n                <li>очередь 1</li>\r\n            </ul>\r\n            <Container className='w-50 m-0 p-0'>\r\n                <Button onClick={!isTimerActive ? startTimer : undefined} next>\r\n                    {isTimerActive ? `Осталось времени: ${remainingTime} сек.` : `Следуюший`}\r\n                    {!isTimerActive && <img src={NextImage} width={35} className='mx-2'></img>}\r\n                </Button>\r\n                <table className={styles.table}>\r\n                    <thead>\r\n                        <tr>\r\n                            <th>№ талона</th>\r\n                            <th>Кабинет</th>\r\n                            <th>Окно</th>\r\n                        </tr>\r\n                    </thead>\r\n                    <tbody>\r\n                        {queue}\r\n                    </tbody>\r\n                </table>\r\n            </Container>\r\n        </Container>\r\n    )\r\n}\r\n\r\nexport default Operator"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}